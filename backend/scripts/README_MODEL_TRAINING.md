# Model Training Scripts - ุฏููู ุงูุงุณุชุฎุฏุงู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุงุณุชุฎุฏุงู ุณูุฑูุจุชุงุช ุชุฏุฑูุจ ุงูููุงุฐุฌ ูู ูุธุงู ุงูุชูุตูุงุช ุงูุฐููุฉ.

---

## ๐ ุงูุณูุฑูุจุชุงุช ุงููุชุงุญุฉ

### 1. train-models.js

ุณูุฑูุจุช ุดุงูู ูุชุฏุฑูุจ ูุชูููู ููุงุฐุฌ ุงูุชูุตูุงุช.

#### ุงูุงุณุชุฎุฏุงู ุงูุฃุณุงุณู

```bash
# ุชุฏุฑูุจ ุฌููุน ุงูููุงุฐุฌ (ุงูุงูุชุฑุงุถู)
node scripts/train-models.js
```

#### ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ

| ุงูุฎูุงุฑ | ุงููุตู | ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ | ูุซุงู |
|--------|-------|-------------------|-------|
| `--models` | ุงูููุงุฐุฌ ุงููุฑุงุฏ ุชุฏุฑูุจูุง | `content_based,collaborative,hybrid` | `--models content_based,hybrid` |
| `--test-size` | ูุณุจุฉ ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ | `0.2` (20%) | `--test-size 0.3` |
| `--min-interactions` | ุงูุญุฏ ุงูุฃุฏูู ููุชูุงุนูุงุช | `10` | `--min-interactions 20` |
| `--no-save` | ุนุฏู ุญูุธ ุงูููุงุฐุฌ | `false` | `--no-save` |

#### ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

```bash
# ุชุฏุฑูุจ ูููุฐุฌ ูุงุญุฏ ููุท
node scripts/train-models.js --models content_based

# ุชุฏุฑูุจ ูููุฐุฌูู
node scripts/train-models.js --models content_based,hybrid

# ุชุฎุตูุต ุญุฌู ุงูุงุฎุชุจุงุฑ
node scripts/train-models.js --test-size 0.3

# ุฒูุงุฏุฉ ุงูุญุฏ ุงูุฃุฏูู ููุชูุงุนูุงุช
node scripts/train-models.js --min-interactions 20

# ุชุฏุฑูุจ ุจุฏูู ุญูุธ (ููุงุฎุชุจุงุฑ)
node scripts/train-models.js --no-save

# ุฏูุฌ ุนุฏุฉ ุฎูุงุฑุงุช
node scripts/train-models.js --models hybrid --test-size 0.25 --min-interactions 15
```

---

## ๐ ููู ุงููุฎุฑุฌุงุช

### 1. ูุฑุญูุฉ ุฌูุน ุงูุจูุงูุงุช

```
๐ ุฌูุน ุจูุงูุงุช ุงูุชุฏุฑูุจ...
โ ุชู ุฌูุน 1250 ุนููุฉ ุชุฏุฑูุจ
```

**ูุงุฐุง ูุญุฏุซุ**
- ุฌูุจ ุงููุณุชุฎุฏููู ุงูุฐูู ูุฏููู ุชูุงุนูุงุช ูุงููุฉ
- ุฌูุจ ุงููุธุงุฆู ุงูุชู ุชูุงุนููุง ูุนูุง
- ุฅูุดุงุก ุนููุงุช ุชุฏุฑูุจ ูุน ุงูุชุตูููุงุช

### 2. ูุฑุญูุฉ ุชูุณูู ุงูุจูุงูุงุช

```
๐ ุชูุณูู ุงูุจูุงูุงุช ุฅูู ุชุฏุฑูุจ ูุงุฎุชุจุงุฑ...
๐ ุจูุงูุงุช ุงูุชุฏุฑูุจ: 1000 ุนููุฉ
๐ ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ: 250 ุนููุฉ
```

**ูุงุฐุง ูุญุฏุซุ**
- ุชูุณูู ุงูุจูุงูุงุช ุญุณุจ `--test-size`
- ุฎูุท ุนุดูุงุฆู ููุจูุงูุงุช

### 3. ูุฑุญูุฉ ุงูุชุฏุฑูุจ

```
๐ฏ ุชุฏุฑูุจ ูููุฐุฌ: content_based...
โ content_based - Accuracy: 82.50%

๐ฏ ุชุฏุฑูุจ ูููุฐุฌ: collaborative...
โ collaborative - Accuracy: 78.30%

๐ฏ ุชุฏุฑูุจ ูููุฐุฌ: hybrid...
โ hybrid - Accuracy: 85.20%
```

**ูุงุฐุง ูุญุฏุซุ**
- ุชุฏุฑูุจ ูู ูููุฐุฌ ุนูู ุจูุงูุงุช ุงูุชุฏุฑูุจ
- ุชูููู ุนูู ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ
- ุญุณุงุจ ุงูููุงููุณ

### 4. ุงุฎุชูุงุฑ ุฃูุถู ูููุฐุฌ

```
๐ ุฃูุถู ูููุฐุฌ:
   HYBRID
   F1-Score: 83.45%
```

**ูุงุฐุง ูุญุฏุซุ**
- ููุงุฑูุฉ ุฌููุน ุงูููุงุฐุฌ
- ุงุฎุชูุงุฑ ุงูุฃูุถู ุญุณุจ F1-Score

### 5. ูุชุงุฆุฌ ุงูุชุฏุฑูุจ

```
๐ ููุฎุต ุงูููุงุฐุฌ:

๐ฏ CONTENT_BASED
   Version: v2026.3.1.1430
   Accuracy: 82.50%
   Precision: 80.20%
   Recall: 78.90%
   F1-Score: 79.54%
   NDCG: 85.30%
   MRR: 72.40%
   Training Time: 12.45s

๐ฏ COLLABORATIVE
   Version: v2026.3.1.1430
   Accuracy: 78.30%
   Precision: 75.60%
   Recall: 80.10%
   F1-Score: 77.78%
   NDCG: 82.50%
   MRR: 68.20%
   Training Time: 18.23s

๐ฏ HYBRID
   Version: v2026.3.1.1430
   Accuracy: 85.20%
   Precision: 83.40%
   Recall: 83.50%
   F1-Score: 83.45%
   NDCG: 88.70%
   MRR: 76.80%
   Training Time: 25.67s
```

### 6. ุงูุชูุตูุงุช

```
๐ก ุชูุตูุงุช ููุชุญุณูู:

   โ๏ธ  collaborative: precision ููุฎูุถ
      โ ุชุญุณูู ูุนุงููุฑ ุงูุชุตููุฉ ูุชูููู False Positives

   โ๏ธ  all: ุฃุฏุงุก ุนุงู ูุญุชุงุฌ ุชุญุณูู
      โ ุงููุธุฑ ูู A/B testing ูุชุญุณูู hyperparameters
```

### 7. ุญูุธ ุงูุชูุฑูุฑ

```
๐ ุชู ุญูุธ ุงูุชูุฑูุฑ: ./training-reports/report-1709251200000.json
```

---

## ๐ ููู ุงูููุงููุณ

### Accuracy (ุงูุฏูุฉ)
- **ุงููุตู**: ูุณุจุฉ ุงูุชูุจุคุงุช ุงูุตุญูุญุฉ
- **ุงููุฏู**: > 70%
- **ุงูุชูุณูุฑ**: 
  - 90%+: ููุชุงุฒ
  - 80-90%: ุฌูุฏ ุฌุฏุงู
  - 70-80%: ุฌูุฏ
  - < 70%: ูุญุชุงุฌ ุชุญุณูู

### Precision (ุงูุฏูุฉ ุงูุฅูุฌุงุจูุฉ)
- **ุงููุตู**: ูุณุจุฉ ุงูุชูุตูุงุช ุงูุฅูุฌุงุจูุฉ ุงูุตุญูุญุฉ
- **ุงููุฏู**: > 60%
- **ุงูุชูุณูุฑ**: 
  - ุนุงูู: ูููู ูู False Positives
  - ููุฎูุถ: ูุซูุฑ ูู ุงูุชูุตูุงุช ุงูุฎุงุทุฆุฉ

### Recall (ุงูุชุบุทูุฉ)
- **ุงููุตู**: ูุณุจุฉ ุงูุชูุตูุงุช ุงูุตุญูุญุฉ ุงูููุชุดูุฉ
- **ุงููุฏู**: > 60%
- **ุงูุชูุณูุฑ**: 
  - ุนุงูู: ูููู ูู False Negatives
  - ููุฎูุถ: ููุฏุงู ุชูุตูุงุช ุฌูุฏุฉ

### F1-Score
- **ุงููุตู**: ุงููุชูุณุท ุงูุชูุงููู ูู Precision ู Recall
- **ุงููุฏู**: > 65%
- **ุงูุชูุณูุฑ**: 
  - ุฃูุถู ูููุงุณ ุดุงูู
  - ููุงุฒู ุจูู Precision ู Recall

### NDCG (Normalized Discounted Cumulative Gain)
- **ุงููุตู**: ุฌูุฏุฉ ุชุฑุชูุจ ุงูุชูุตูุงุช
- **ุงููุฏู**: > 70%
- **ุงูุชูุณูุฑ**: 
  - ุนุงูู: ุงูุชุฑุชูุจ ููุชุงุฒ
  - ููุฎูุถ: ุงูุชุฑุชูุจ ูุญุชุงุฌ ุชุญุณูู

### MRR (Mean Reciprocal Rank)
- **ุงููุตู**: ูุชูุณุท ุชุฑุชูุจ ุฃูู ูุชูุฌุฉ ุตุญูุญุฉ
- **ุงููุฏู**: > 60%
- **ุงูุชูุณูุฑ**: 
  - ุนุงูู: ุงููุชุงุฆุฌ ุงูุฌูุฏุฉ ูู ุงูุฃุนูู
  - ููุฎูุถ: ุงููุชุงุฆุฌ ุงูุฌูุฏุฉ ูุชุฃุฎุฑุฉ

---

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### "ูุง ุชูุฌุฏ ุจูุงูุงุช ูุงููุฉ ููุชุฏุฑูุจ"

**ุงูุณุจุจ**: ุนุฏุฏ ุงููุณุชุฎุฏููู ุฃู ุงูุชูุงุนูุงุช ูููู

**ุงูุญู**:
```bash
# ุชูููู ุงูุญุฏ ุงูุฃุฏูู ููุชูุงุนูุงุช
node scripts/train-models.js --min-interactions 5

# ุฃู ุงูุชุธุงุฑ ุฌูุน ุงููุฒูุฏ ูู ุงูุจูุงูุงุช
```

### "MongoDB connection failed"

**ุงูุณุจุจ**: ูุดููุฉ ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูุญู**:
```bash
# ุชุญูู ูู .env
cat backend/.env | grep MONGODB_URI

# ุชุญูู ูู MongoDB
mongosh "your_mongodb_uri"
```

### "Out of memory"

**ุงูุณุจุจ**: ุงูุจูุงูุงุช ูุจูุฑุฉ ุฌุฏุงู

**ุงูุญู**:
```bash
# ุชูููู ุญุฌู ุงูุจูุงูุงุช
node scripts/train-models.js --test-size 0.1

# ุฃู ุฒูุงุฏุฉ ุงูุฐุงูุฑุฉ
node --max-old-space-size=4096 scripts/train-models.js
```

### "Training time too long"

**ุงูุณุจุจ**: ุงูุจูุงูุงุช ูุจูุฑุฉ ุฃู ุงููููุฐุฌ ูุนูุฏ

**ุงูุญู**:
```bash
# ุชุฏุฑูุจ ูููุฐุฌ ูุงุญุฏ ููุท
node scripts/train-models.js --models content_based

# ุฃู ุชูููู ุงูุจูุงูุงุช
node scripts/train-models.js --min-interactions 20
```

---

## ๐ ุงูุฌุฏููุฉ ุงูุชููุงุฆูุฉ

### Linux/Mac (Cron)

```bash
# ุชุญุฑูุฑ crontab
crontab -e

# ุฅุถุงูุฉ ุณุทุฑ ููุชุดุบูู ุงูุดูุฑู (ุฃูู ููู ูู ูู ุดูุฑ ุงูุณุงุนุฉ 2 ุตุจุงุญุงู)
0 2 1 * * cd /path/to/backend && node scripts/train-models.js >> /var/log/model-training.log 2>&1
```

### Windows (Task Scheduler)

1. ุงูุชุญ Task Scheduler
2. Create Basic Task
3. Name: "Model Training"
4. Trigger: Monthly (1st day, 2:00 AM)
5. Action: Start a program
   - Program: `node`
   - Arguments: `scripts/train-models.js`
   - Start in: `C:\path\to\backend`

### PM2 (ููุตู ุจู)

```javascript
// ecosystem.config.js
module.exports = {
  apps: [{
    name: 'model-training',
    script: 'scripts/train-models.js',
    cron_restart: '0 2 1 * *', // ุฃูู ููู ูู ูู ุดูุฑ ุงูุณุงุนุฉ 2 ุตุจุงุญุงู
    autorestart: false,
    watch: false
  }]
};
```

```bash
# ุชุดุบูู
pm2 start ecosystem.config.js
```

---

## ๐ ุชุญููู ุงูุชูุงุฑูุฑ

### ูููุน ุงูุชูุงุฑูุฑ

```
backend/training-reports/
โโโ report-1709251200000.json
โโโ report-1711929600000.json
โโโ report-1714521600000.json
```

### ูุญุชูู ุงูุชูุฑูุฑ

```json
{
  "summary": {
    "totalModels": 3,
    "bestModel": "hybrid",
    "bestF1Score": 0.8345,
    "timestamp": "2026-03-01T00:00:00.000Z"
  },
  "models": [
    {
      "type": "content_based",
      "version": "v2026.3.1.1430",
      "metrics": {
        "accuracy": 0.825,
        "precision": 0.802,
        "recall": 0.789,
        "f1Score": 0.7954,
        "ndcg": 0.853,
        "mrr": 0.724
      },
      "trainingTime": 12.45,
      "trainSize": 1000,
      "testSize": 250
    }
  ],
  "recommendations": [
    {
      "model": "collaborative",
      "issue": "precision ููุฎูุถ",
      "suggestion": "ุชุญุณูู ูุนุงููุฑ ุงูุชุตููุฉ ูุชูููู False Positives"
    }
  ]
}
```

### ููุงุฑูุฉ ุงูุชูุงุฑูุฑ

```javascript
// ุณูุฑูุจุช ุจุณูุท ููููุงุฑูุฉ
const fs = require('fs');

const reports = [
  'training-reports/report-1709251200000.json',
  'training-reports/report-1711929600000.json'
];

reports.forEach(file => {
  const report = JSON.parse(fs.readFileSync(file));
  console.log(`${report.summary.timestamp}: ${report.summary.bestModel} - ${report.summary.bestF1Score}`);
});
```

---

## ๐ฏ ุฃูุถู ุงูููุงุฑุณุงุช

### 1. ุงูุชุฏุฑูุจ ุงูุฏูุฑู
- โ ุชุฏุฑูุจ ุดูุฑู ููููุงุฐุฌ
- โ ุญูุธ ุฌููุน ุงูุชูุงุฑูุฑ
- โ ููุงุฑูุฉ ุงูุฃุฏุงุก ุจูุฑูุฑ ุงูููุช

### 2. ูุฑุงูุจุฉ ุงูุฌูุฏุฉ
- โ ูุฑุงูุจุฉ F1-Score (ูุฌุจ ุฃู ูููู > 65%)
- โ ูุฑุงูุจุฉ Accuracy (ูุฌุจ ุฃู ูููู > 70%)
- โ ูุฑุงูุจุฉ NDCG (ูุฌุจ ุฃู ูููู > 70%)

### 3. ุงูุชุญุณูู ุงููุณุชูุฑ
- โ ุชุทุจูู ุงูุชูุตูุงุช ูู ุงูุชูุงุฑูุฑ
- โ A/B testing ููููุงุฐุฌ ุงูุฌุฏูุฏุฉ
- โ ุฌูุน ุงููุฒูุฏ ูู ุงูุจูุงูุงุช

### 4. ุงููุณุฎ ุงูุงุญุชูุงุทู
- โ ุญูุธ ุงูุชูุงุฑูุฑ ูู ููุงู ุขูู
- โ ูุณุฎ ุงุญุชูุงุทู ููุงุนุฏุฉ ุงูุจูุงูุงุช ูุจู ุงูุชุฏุฑูุจ
- โ ุญูุธ ุงูููุงุฐุฌ ุงููุฏููุฉ

---

## ๐ ุงููุฒูุฏ ูู ุงููุนูููุงุช

- ๐ `TASK_15_MODEL_OPTIMIZATION_SUMMARY.md` - ููุฎุต ุดุงูู
- ๐ `TASK_15_QUICK_START.md` - ุฏููู ุงูุจุฏุก ุงูุณุฑูุน
- ๐ `../src/services/modelTrainingPipeline.js` - ููุฏ ุงูุชุฏุฑูุจ

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 2026-03-01  
**ุขุฎุฑ ุชุญุฏูุซ**: 2026-03-01
