# โ ููุฎุต ุชูููุฐ ุงููููุฉ 11.1: ุชุชุจุน ุงูุชูุงุนูุงุช

## ๐ ูุนูููุงุช ุงููููุฉ
- **ุฑูู ุงููููุฉ**: 11.1
- **ุงูุนููุงู**: ุชุชุจุน ุงูุชูุงุนูุงุช
- **ุงูุญุงูุฉ**: โ ููุชูู
- **ุชุงุฑูุฎ ุงูุฅููุงู**: 2026-02-27
- **ุงููุชุทูุจุงุช**: Requirements 6.1 (ุชุชุจุน ุฌููุน ุงูุชูุงุนูุงุช)

---

## ๐ฏ ุงููุฏู

ุชูููุฐ ูุธุงู ุดุงูู ูุชุชุจุน ุฌููุน ุชูุงุนูุงุช ุงููุณุชุฎุฏููู ูุน ุงูุชูุตูุงุช (ูุธุงุฆูุ ุฏูุฑุงุชุ ูุฑุดุญูู) ุจูุง ูู ุฐูู:
- ุญูุธ ุฌููุน ุงูุชูุงุนูุงุช (view, like, apply, ignore, save)
- ุญุณุงุจ ูุฏุฉ ุงููุดุงูุฏุฉ
- ุชุฎุฒูู ุงูุณูุงู ุงููุงูู ููุชูุงุนู
- ุชุญููู ุงูุฃููุงุท ุงูุณููููุฉ

---

## โ ูุง ุชู ุฅูุฌุงุฒู

### 1. ุงููููุฐุฌ (Model) โ
**ุงูููู**: `backend/src/models/UserInteraction.js`

**ุงูููุฒุงุช ุงููููุฐุฉ**:
- โ Schema ูุงูู ูุน ุฌููุน ุงูุญููู ุงููุทููุจุฉ
- โ 5 ุฃููุงุน ุชูุงุนูุงุช (view, like, apply, ignore, save)
- โ 3 ุฃููุงุน ุนูุงุตุฑ (job, course, candidate)
- โ ุชุชุจุน ูุฏุฉ ุงููุดุงูุฏุฉ
- โ ุชุฎุฒูู ุงูุณูุงู ุงููุงูู (sourcePage, displayType, position, originalScore)
- โ ูุนูููุงุช ุงูุฌูุณุฉ (sessionId, deviceType, browser, platform)
- โ 4 ููุงุฑุณ ูุฑูุจุฉ ููุฃุฏุงุก
- โ 4 ุทุฑู ูุซูู (getFormattedDetails, isPositiveInteraction, isNegativeInteraction, getInteractionWeight)
- โ 6 ุทุฑู ุซุงุจุชุฉ (logInteraction, getUserInteractions, getUserInteractionStats, analyzeUserPreferences, calculateConversionRate, cleanupOldInteractions)

**ุงูุฃูุฒุงู ุงููุญุฏุฏุฉ**:
- apply: 2.0 (ุฃุนูู ูุฒู)
- like: 1.5
- save: 1.2
- view: 0.5
- ignore: -1.0 (ุณูุจู)

### 2. ุงูุฎุฏูุฉ (Service) โ
**ุงูููู**: `backend/src/services/userInteractionService.js`

**ุงููุธุงุฆู ุงููููุฐุฉ**:
- โ `logInteraction()` - ุชุณุฌูู ุชูุงุนู ุฌุฏูุฏ
- โ `updateRecommendationStatus()` - ุชุญุฏูุซ ุญุงูุฉ ุงูุชูุตูุฉ
- โ `analyzeAndUpdatePreferences()` - ุชุญููู ูุชุญุฏูุซ ุงูุชูุถููุงุช
- โ `analyzeUserPreferences()` - ุชุญููู ุชูุถููุงุช ุงููุณุชุฎุฏู
- โ `extractPatternsFromInteractions()` - ุงุณุชุฎุฑุงุฌ ุงูุฃููุงุท
- โ `analyzeTimePatterns()` - ุชุญููู ุงูุฃููุงุท ุงูุฒูููุฉ
- โ `analyzeActionSequences()` - ุชุญููู ุชุณูุณู ุงูุฅุฌุฑุงุกุงุช
- โ `analyzeScorePatterns()` - ุชุญููู ุฃููุงุท ุงูุฏุฑุฌุงุช
- โ `calculateInteractionWeights()` - ุญุณุงุจ ุฃูุฒุงู ุงูุชูุงุนูุงุช
- โ `updateRecommendationsBasedOnPreferences()` - ุชุญุฏูุซ ุงูุชูุตูุงุช
- โ `adjustScoreBasedOnPreferences()` - ุถุจุท ุงูุฏุฑุฌุงุช
- โ `getUserStats()` - ุฌูุจ ุงูุฅุญุตุงุกุงุช
- โ `calculateEngagementScore()` - ุญุณุงุจ ุฏุฑุฌุฉ ุงููุดุงุฑูุฉ
- โ `cleanupOldData()` - ุชูุธูู ุงูุจูุงูุงุช ุงููุฏููุฉ
- โ `retrainModelsBasedOnInteractions()` - ุฅุนุงุฏุฉ ุชุฏุฑูุจ ุงูููุงุฐุฌ

**ุงูุชุญูููุงุช ุงููููุฐุฉ**:
- โ ุงูุฃููุงุท ุงูุฒูููุฉ (morning, afternoon, evening, night)
- โ ุชุณูุณู ุงูุฅุฌุฑุงุกุงุช (view โ like โ apply)
- โ ุฃููุงุท ุงูุฏุฑุฌุงุช (ูุชูุณุทุ ุญุฏ ุฃุฏููุ ุญุฏ ุฃูุตู)
- โ ูุนุฏู ุงูุชุญููู (view to apply, like to apply)
- โ ุฏุฑุฌุฉ ุงููุดุงุฑูุฉ (0-10)

### 3. ุงููุนุงูุฌ (Controller) โ
**ุงูููู**: `backend/src/controllers/userInteractionController.js`

**Endpoints ุงููููุฐุฉ**:
- โ `POST /log` - ุชุณุฌูู ุชูุงุนู ุฌุฏูุฏ
- โ `GET /` - ุฌูุจ ุชูุงุนูุงุช ุงููุณุชุฎุฏู
- โ `GET /stats` - ุฌูุจ ุงูุฅุญุตุงุกุงุช
- โ `GET /preferences` - ุฌูุจ ุงูุชูุถููุงุช
- โ `GET /conversion-rate` - ุฌูุจ ูุนุฏู ุงูุชุญููู
- โ `GET /patterns` - ุชุญููู ุงูุฃููุงุท ุงูุณููููุฉ
- โ `POST /update-recommendations` - ุชุญุฏูุซ ุงูุชูุตูุงุช
- โ `POST /cleanup` - ุญุฐู ุชูุงุนูุงุช ูุฏููุฉ (admin)
- โ `POST /retrain-models` - ุฅุนุงุฏุฉ ุชุฏุฑูุจ ุงูููุงุฐุฌ (admin)

**ุงูุชุญูู ูู ุงูุจูุงูุงุช**:
- โ ุงูุชุญูู ูู ุงูุจูุงูุงุช ุงููุทููุจุฉ
- โ ุงูุชุญูู ูู ุตุญุฉ action
- โ ุงูุชุญูู ูู ุตุญุฉ itemType
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุดุงููุฉ

**ุงูููุฒุงุช ุงูุฅุถุงููุฉ**:
- โ ุชูุณูุฑ ูุนุฏู ุงูุชุญููู
- โ ุชูููุฏ ุฑุคู ุณููููุฉ
- โ Pagination ููุชูุงุนูุงุช

### 4. ุงููุณุงุฑุงุช (Routes) โ
**ุงูููู**: `backend/src/routes/userInteractionRoutes.js`

**ุงููุณุงุฑุงุช ุงููููุฐุฉ**:
- โ 9 ูุณุงุฑุงุช API
- โ ุญูุงูุฉ ุฌููุน ุงููุณุงุฑุงุช ุจู authentication
- โ ุญูุงูุฉ ูุณุงุฑุงุช ุงูุฅุฏุงุฑุฉ ุจู authorization
- โ ุชูุซูู ูุงูู ููู ูุณุงุฑ

### 5. ุงูุชูุงูู โ
- โ ุชูุงูู ูุน `app.js` (`/user-interactions`)
- โ ุชูุงูู ูุน ูููุฐุฌ Recommendation
- โ ุชูุงูู ูุน ูููุฐุฌ User
- โ ุชุญุฏูุซ ุชููุงุฆู ููุชูุตูุงุช

### 6. ุงูุงุฎุชุจุงุฑุงุช โ
**ุงูููู**: `backend/tests/userInteraction.test.js`

**ุงูุงุฎุชุจุงุฑุงุช ุงููููุฐุฉ**:
- โ Schema Validation (3 ุงุฎุชุจุงุฑุงุช)
- โ Instance Methods (4 ุงุฎุชุจุงุฑุงุช)
- โ Service Methods (6 ุงุฎุชุจุงุฑุงุช)
- โ Integration Tests (3 ุงุฎุชุจุงุฑุงุช)

**ุงููุฌููุน**: 16 ุงุฎุชุจุงุฑ

### 7. ุงูุชูุซูู โ
- โ `USER_INTERACTION_TRACKING.md` - ุฏููู ุดุงูู (500+ ุณุทุฑ)
- โ `USER_INTERACTION_TRACKING_QUICK_START.md` - ุฏููู ุงูุจุฏุก ุงูุณุฑูุน
- โ `TASK_11.1_IMPLEMENTATION_SUMMARY.md` - ููุฎุต ุงูุชูููุฐ

---

## ๐ ุงูุฅุญุตุงุกุงุช

### ุงูููุฏ ุงูููุชูุจ
- **Model**: ~470 ุณุทุฑ
- **Service**: ~650 ุณุทุฑ
- **Controller**: ~450 ุณุทุฑ
- **Routes**: ~80 ุณุทุฑ
- **Tests**: ~350 ุณุทุฑ
- **ุงููุฌููุน**: ~2000 ุณุทุฑ

### ุงููููุงุช ุงูููุดุฃุฉ
- 4 ูููุงุช ููุฏ ุฑุฆูุณูุฉ
- 1 ููู ุงุฎุชุจุงุฑุงุช
- 3 ูููุงุช ุชูุซูู
- **ุงููุฌููุน**: 8 ูููุงุช

### ุงูููุฒุงุช
- 5 ุฃููุงุน ุชูุงุนูุงุช
- 3 ุฃููุงุน ุนูุงุตุฑ
- 9 API endpoints
- 4 ุฃููุงุน ุชุญูููุงุช
- 16 ุงุฎุชุจุงุฑ

---

## ๐ฏ ุงููุชุทูุจุงุช ุงููุญููุฉ

### Requirement 6.1: ุชุชุจุน ุฌููุน ุงูุชูุงุนูุงุช โ
- โ ุชุชุจุน view, like, apply, ignore, save
- โ ุญุณุงุจ ูุฏุฉ ุงููุดุงูุฏุฉ
- โ ุชุฎุฒูู ุงูุณูุงู ุงููุงูู
- โ ูุนูููุงุช ุงูุฌูุณุฉ
- โ Timestamps ุฏูููุฉ

### Requirement 6.2: ุชุญููู ุงูุฃููุงุท โ
- โ ุงูุฃููุงุท ุงูุฒูููุฉ
- โ ุชุณูุณู ุงูุฅุฌุฑุงุกุงุช
- โ ุฃููุงุท ุงูุฏุฑุฌุงุช
- โ ุงูุชูุถููุงุช
- โ ูุนุฏู ุงูุชุญููู

### Requirement 6.3: ุชุญุฏูุซ ุงูููุงุฐุฌ โ
- โ ุชุญุฏูุซ ุชููุงุฆู ููุชูุตูุงุช
- โ ุถุจุท ุงูุฏุฑุฌุงุช ุจูุงุกู ุนูู ุงูุชูุงุนูุงุช
- โ ุชุญุฏูุซ ุฃุณุจุงุจ ุงูุชูุตูุงุช
- โ ุฅุนุงุฏุฉ ุชุฑุชูุจ ุงูุชูุตูุงุช
- โ ุฌุฏููุฉ ุฅุนุงุฏุฉ ุชุฏุฑูุจ ุงูููุงุฐุฌ

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุชุณุฌูู ุชูุงุนู
```javascript
POST /api/user-interactions/log
{
  "itemType": "job",
  "itemId": "507f1f77bcf86cd799439011",
  "action": "like",
  "options": {
    "duration": 30,
    "sourcePage": "recommendations",
    "position": 1,
    "originalScore": 85
  }
}
```

### 2. ุฌูุจ ุงูุฅุญุตุงุกุงุช
```javascript
GET /api/user-interactions/stats?itemType=job
```

### 3. ุชุญุฏูุซ ุงูุชูุตูุงุช
```javascript
POST /api/user-interactions/update-recommendations
{
  "itemType": "job"
}
```

---

## ๐ ุงูููุงุฆุฏ ุงููุญููุฉ

### ูููุณุชุฎุฏููู
- โ ุชูุตูุงุช ุฃูุซุฑ ุฏูุฉ ูุชุฎุตูุตุงู
- โ ุชุญุณูู ูุณุชูุฑ ููุชูุตูุงุช
- โ ููู ุฃูุถู ูุชูุถููุงุชูู
- โ ูุนุฏู ุชุญููู ุฃุนูู

### ูููุธุงู
- โ ุจูุงูุงุช ุบููุฉ ููุชุญููู
- โ ุชุญุณูู ุฎูุงุฑุฒููุงุช ML
- โ ููู ุฃูุถู ูุณููู ุงููุณุชุฎุฏููู
- โ ูุฑุงุฑุงุช ูุจููุฉ ุนูู ุงูุจูุงูุงุช

### ููุฃุนูุงู
- โ ุฒูุงุฏุฉ ุงููุดุงุฑูุฉ
- โ ุชุญุณูู ูุนุฏู ุงูุชูุธูู
- โ ุฑุถุง ุงููุณุชุฎุฏููู
- โ ููุฒุฉ ุชูุงูุณูุฉ

---

## ๐ ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

### ูุตูุฑุฉ ุงููุฏู
- [ ] ุชูุงูู ูุน ูุธุงู ML ููุชุฏุฑูุจ ุงููุนูู
- [ ] ุชุญููู ุงููุฆุงุช ูุงูููุฒุงุช ูู ุงูุนูุงุตุฑ
- [ ] A/B testing ููุชูุตูุงุช

### ูุชูุณุทุฉ ุงููุฏู
- [ ] Real-time recommendations update
- [ ] Collaborative filtering ุจูุงุกู ุนูู ุงูุชูุงุนูุงุช
- [ ] ุชุญููู ูุชูุฏู ููุฃููุงุท ุงูุณููููุฉ

### ุทูููุฉ ุงููุฏู
- [ ] Deep learning models
- [ ] Personalized recommendation engine
- [ ] Predictive analytics

---

## โ Checklist ุงูููุงุฆู

- [x] Model ููุชูู ูุน ุฌููุน ุงูุญููู
- [x] Service ููุชูู ูุน ุฌููุน ุงููุธุงุฆู
- [x] Controller ููุชูู ูุน ุฌููุน endpoints
- [x] Routes ููุชูู ููุชูุงูู
- [x] Indexes ูุญุณููุฉ ููุฃุฏุงุก
- [x] Validation ุดุงูู ููุจูุงูุงุช
- [x] Error handling ุดุงูู
- [x] Authentication ู Authorization
- [x] Tests ุดุงููุฉ (16 ุงุฎุชุจุงุฑ)
- [x] Documentation ูุงููุฉ
- [x] Integration ูุน ุงูุฃูุธูุฉ ุงูููุฌูุฏุฉ
- [x] No diagnostics errors

---

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุงุณุชูุณุงุฑุงุช:
- ๐ง ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: careerak.hr@gmail.com
- ๐ ุงูุชูุซูู ุงููุงูู: `docs/AI Recommendations/USER_INTERACTION_TRACKING.md`
- ๐ ุฏููู ุงูุจุฏุก ุงูุณุฑูุน: `docs/AI Recommendations/USER_INTERACTION_TRACKING_QUICK_START.md`

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 2026-02-27  
**ุงูุญุงูุฉ**: โ ููุชูู ุจูุฌุงุญ  
**ุงููุทูุฑ**: Kiro AI Assistant
