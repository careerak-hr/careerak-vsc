# ูุธุงู ุชุฃููุฏ ุงูุฎุฑูุฌ ูู ุงูุชุทุจูู

**ุงูุชุงุฑูุฎ**: 2026-02-16  
**ุงูุญุงูุฉ**: โ ุชู ุงูุชุทุจูู

---

## ๐ ุงููุตู

ูุธุงู ุดุงูู ูุชุฃููุฏ ุฎุฑูุฌ ุงููุณุชุฎุฏู ูู ุงูุชุทุจููุ ูุนูู ูุน:
- ุฒุฑ ุงูุฎูู ูู ุงููุงุชู (Hardware Back Button)
- ุฃุฒุฑุงุฑ ุงูุฎุฑูุฌ ูู ุงููุงุฌูุฉ
- ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ ุงูุชู ูุฌุจ ุชุฃููุฏ ุงูุฎุฑูุฌ ูููุง

---

## ๐ฏ ุงููุชุทูุจุงุช

### ุงููุชุทูุจ ุงูุฃุณุงุณู:
ุนูุฏ ูุญุงููุฉ ุงูุฎุฑูุฌ ูู ุงูุชุทุจูู (ุณูุงุก ุจุฒุฑ ุงูุฎูู ุฃู ุฒุฑ ุฎุฑูุฌ)ุ ูุฌุจ:
1. โ ุนุฑุถ ุฑุณุงูุฉ ููุจุซูุฉ: "ูู ุญูุงู ุชุฑูุฏ ุงูุฎุฑูุฌ ูู ุงูุชุทุจููุ"
2. โ ุฒุฑุงู: "ูุนู" ู "ูุง"
3. โ ุนูุฏ ุงูุถุบุท ุนูู "ูุนู": ุงูุฎุฑูุฌ ุงูููุงุฆู ูู ุงูุชุทุจูู
4. โ ุนูุฏ ุงูุถุบุท ุนูู "ูุง": ุฅุบูุงู ุงูุฑุณุงูุฉ ุฏูู ุฃู ูุนู ุขุฎุฑ

---

## ๐๏ธ ุงูุจููุฉ

### 1. ExitConfirmModal Component
**ุงููุณุงุฑ**: `frontend/src/components/modals/ExitConfirmModal.jsx`

ุฑุณุงูุฉ ููุจุซูุฉ ุจุชุตููู ููุญุฏ ูุน ุจุงูู ุงูุชุทุจูู:

**ุงููููุฒุงุช:**
- โ ุฏุนู 3 ูุบุงุช (ar, en, fr)
- โ ุชุทุจูู ุงูุฎุทูุท ุญุณุจ ุงููุบุฉ
- โ ุชุตููู ููุญุฏ (ุฅุทุงุฑ ูุญูู 4pxุ ุฎูููุฉ ุจูุฌุ ุฒูุงูุง ุฏุงุฆุฑูุฉ)
- โ ุฒุฑุงู ุจุชุตููู ูุงุถุญ (ูุนู: ูุญููุ ูุง: ุจูุฌ ูุน ุฅุทุงุฑ ูุญุงุณู)
- โ RTL/LTR support

**ุงูุชุฑุฌูุงุช:**
```javascript
ar: {
  title: 'ุชุฃููุฏ ุงูุฎุฑูุฌ',
  message: 'ูู ุญูุงู ุชุฑูุฏ ุงูุฎุฑูุฌ ูู ุงูุชุทุจููุ',
  yes: 'ูุนู',
  no: 'ูุง'
}
```

### 2. useExitConfirm Hook
**ุงููุณุงุฑ**: `frontend/src/hooks/useExitConfirm.js`

Hook ูุฎุตุต ูุฅุฏุงุฑุฉ ููุทู ุงูุฎุฑูุฌ:

**ุงููุธุงุฆู:**
- `showExitModal`: ุญุงูุฉ ุนุฑุถ ุงูุฑุณุงูุฉ
- `requestExit()`: ุทูุจ ุงูุฎุฑูุฌ ูุฏููุงู (ููุฃุฒุฑุงุฑ)
- `confirmExit()`: ุชุฃููุฏ ุงูุฎุฑูุฌ ูุฅุบูุงู ุงูุชุทุจูู
- `cancelExit()`: ุฅูุบุงุก ุงูุฎุฑูุฌ
- `isExitPage`: ุงูุชุญูู ูู ุฃููุง ูู ุตูุญุฉ ุฎุฑูุฌ

**ุงูุตูุญุงุช ุงููุญููุฉ (Exit Pages):**
```javascript
const exitPages = [
  '/login',
  '/entry',
  '/admin-dashboard',
  '/profile',
  '/interface-individuals',
  '/interface-companies',
  '/interface-illiterate',
  '/interface-visual',
  '/interface-ultimate',
  '/interface-shops',
  '/interface-workshops'
];
```

---

## ๐ง ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูู ุฃู ุตูุญุฉ ุชุฑูุฏ ุชูุนูู ูุธุงู ุงูุฎุฑูุฌ:

```jsx
import useExitConfirm from '../hooks/useExitConfirm';
import ExitConfirmModal from '../components/modals/ExitConfirmModal';

function MyPage() {
  // ุงุณุชุฎุฏุงู ุงูู hook
  const { showExitModal, requestExit, confirmExit, cancelExit } = useExitConfirm();

  return (
    <div>
      {/* ุฅุถุงูุฉ ุงูู Modal */}
      <ExitConfirmModal 
        isOpen={showExitModal}
        onConfirm={confirmExit}
        onCancel={cancelExit}
      />

      {/* ุฒุฑ ุฎุฑูุฌ ุงุฎุชูุงุฑู */}
      <button onClick={requestExit}>
        ุฎุฑูุฌ
      </button>

      {/* ุจุงูู ุงููุญุชูู */}
    </div>
  );
}
```

---

## โ๏ธ ููู ูุนูู ุงููุธุงูุ

### 1. ุฒุฑ ุงูุฎูู ูู ุงููุงุชู (Hardware Back Button)

```javascript
// ูู useExitConfirm.js
CapacitorApp.addListener('backButton', ({ canGoBack }) => {
  if (isExitPage()) {
    // ูู ุตูุญุฉ ุฎุฑูุฌ โ ุนุฑุถ ุฑุณุงูุฉ ุงูุชุฃููุฏ
    setShowExitModal(true);
  } else if (canGoBack) {
    // ูููู ุงูุฑุฌูุน โ ุงูุฑุฌูุน ููุตูุญุฉ ุงูุณุงุจูุฉ
    navigate(-1);
  } else {
    // ูุง ููุฌุฏ ุตูุญุฉ ุณุงุจูุฉ โ ุนุฑุถ ุฑุณุงูุฉ ุงูุชุฃููุฏ
    setShowExitModal(true);
  }
});
```

### 2. ุฒุฑ ุงูุฎุฑูุฌ ูู ุงููุงุฌูุฉ

```javascript
// ุงุณุชุฏุนุงุก requestExit() ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ ุงูุฎุฑูุฌ
<button onClick={requestExit}>ุฎุฑูุฌ</button>
```

### 3. ุชุฃููุฏ ุงูุฎุฑูุฌ

```javascript
const confirmExit = async () => {
  try {
    // ูุญุงููุฉ ุฅุบูุงู ุงูุชุทุจูู (ูุนูู ุนูู ุงููุงุชู)
    await CapacitorApp.exitApp();
  } catch (error) {
    // ูู ุจูุฆุฉ ุงูููุจ
    if (window.opener) {
      window.close();
    } else {
      navigate('/entry', { replace: true });
    }
  }
};
```

### 4. ุฅูุบุงุก ุงูุฎุฑูุฌ

```javascript
const cancelExit = () => {
  // ุฅุบูุงู ุงูุฑุณุงูุฉ ููุทุ ูุง ุดูุก ุขุฎุฑ
  setShowExitModal(false);
};
```

---

## ๐ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### ุงูุณููุงุฑูู 1: ุงููุณุชุฎุฏู ูู ุตูุญุฉ Login
1. ูุถุบุท ุฒุฑ ุงูุฎูู ูู ุงููุงุชู
2. โ ุชุธูุฑ ุฑุณุงูุฉ: "ูู ุญูุงู ุชุฑูุฏ ุงูุฎุฑูุฌ ูู ุงูุชุทุจููุ"
3. ูุฎุชุงุฑ "ูุนู" โ ุงูุชุทุจูู ููุบูู
4. ูุฎุชุงุฑ "ูุง" โ ุงูุฑุณุงูุฉ ุชูุบููุ ูุจูู ูู ุตูุญุฉ Login

### ุงูุณููุงุฑูู 2: ุงููุณุชุฎุฏู ูู ุตูุญุฉ ุฏุงุฎููุฉ (ูุซู Settings)
1. ูุถุบุท ุฒุฑ ุงูุฎูู ูู ุงููุงุชู
2. โ ูุฑุฌุน ููุตูุญุฉ ุงูุณุงุจูุฉ (ุจุฏูู ุฑุณุงูุฉ ุชุฃููุฏ)

### ุงูุณููุงุฑูู 3: ุงููุณุชุฎุฏู ูู Admin Dashboard
1. ูุถุบุท ุฒุฑ ุงูุฎูู ูู ุงููุงุชู
2. โ ุชุธูุฑ ุฑุณุงูุฉ ุชุฃููุฏ (ูุฃููุง ุตูุญุฉ ุฑุฆูุณูุฉ)
3. ูุฎุชุงุฑ "ูุนู" โ ุงูุชุทุจูู ููุบูู

### ุงูุณููุงุฑูู 4: ุฒุฑ ุฎุฑูุฌ ูู ุงููุงุฌูุฉ
1. ุงููุณุชุฎุฏู ูุถุบุท ุนูู ุฒุฑ "ุฎุฑูุฌ" ูู ุฃู ุตูุญุฉ
2. โ ุชุธูุฑ ุฑุณุงูุฉ ุชุฃููุฏ
3. ูุฎุชุงุฑ "ูุนู" โ ุงูุชุทุจูู ููุบูู
4. ูุฎุชุงุฑ "ูุง" โ ุงูุฑุณุงูุฉ ุชูุบููุ ูุจูู ูู ููุณ ุงูุตูุญุฉ

---

## ๐จ ุงูุชุตููู

### ุงูุฑุณุงูุฉ ุงูููุจุซูุฉ:
- **ุงูุฅุทุงุฑ**: 4px solid #304B60 (ูุญูู)
- **ุงูุฎูููุฉ**: #E3DAD1 (ุจูุฌ)
- **ุงูุฒูุงูุง**: rounded-3xl
- **ุงูุธู**: shadow-2xl

### ุงูุฃุฒุฑุงุฑ:
```jsx
// ุฒุฑ "ูุง"
className="bg-secondary-light text-primary border-2 border-accent"

// ุฒุฑ "ูุนู"
className="bg-primary text-accent"
```

### ุงูุฎุทูุท:
- **ุงูุนุฑุจูุฉ**: Amiri, Cairo, serif
- **ุงูุฅูุฌููุฒูุฉ**: Cormorant Garamond, serif
- **ุงููุฑูุณูุฉ**: EB Garamond, serif

---

## ๐ ุงููููุงุช ุงููุถุงูุฉ

1. **frontend/src/components/modals/ExitConfirmModal.jsx**
   - ุงูุฑุณุงูุฉ ุงูููุจุซูุฉ
   - ุฏุนู 3 ูุบุงุช
   - ุชุตููู ููุญุฏ

2. **frontend/src/hooks/useExitConfirm.js**
   - Hook ูุฅุฏุงุฑุฉ ููุทู ุงูุฎุฑูุฌ
   - ูุนุงูุฌุฉ ุฒุฑ ุงูุฎูู
   - ุชุญุฏูุฏ ุตูุญุงุช ุงูุฎุฑูุฌ

3. **frontend/src/pages/02_LoginPage.jsx** (ูุญุฏูุซ)
   - ุฅุถุงูุฉ ูุธุงู ุชุฃููุฏ ุงูุฎุฑูุฌ
   - ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู

---

## ๐งช ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ 1: ุฒุฑ ุงูุฎูู ูู ุตูุญุฉ Login
1. โ ุงูุชุญ ุงูุชุทุจูู ุนูู ุงููุงุชู
2. โ ุงุฐูุจ ุฅูู ุตูุญุฉ Login
3. โ ุงุถุบุท ุฒุฑ ุงูุฎูู ูู ุงููุงุชู
4. โ ูุฌุจ ุฃู ุชุธูุฑ ุฑุณุงูุฉ "ูู ุญูุงู ุชุฑูุฏ ุงูุฎุฑูุฌ ูู ุงูุชุทุจููุ"
5. โ ุงุถุบุท "ูุนู" โ ุงูุชุทุจูู ููุบูู
6. โ ุงูุชุญ ุงูุชุทุจูู ูุฑุฉ ุฃุฎุฑูุ ุงุถุบุท ุฒุฑ ุงูุฎููุ ุงุถุบุท "ูุง" โ ุงูุฑุณุงูุฉ ุชูุบูู

### ุงุฎุชุจุงุฑ 2: ุฒุฑ ุงูุฎูู ูู ุตูุญุฉ ุฏุงุฎููุฉ
1. โ ุงูุชุญ ุงูุชุทุจูู
2. โ ุณุฌู ุฏุฎูู ูุงุฐูุจ ูุตูุญุฉ Settings
3. โ ุงุถุบุท ุฒุฑ ุงูุฎูู
4. โ ูุฌุจ ุฃู ุชุฑุฌุน ููุตูุญุฉ ุงูุณุงุจูุฉ (ุจุฏูู ุฑุณุงูุฉ)

### ุงุฎุชุจุงุฑ 3: ุงูุชุฑุฌูุงุช
1. โ ุบููุฑ ุงููุบุฉ ุฅูู ุงูุนุฑุจูุฉ โ ุงูุฑุณุงูุฉ ุจุงูุนุฑุจูุฉ
2. โ ุบููุฑ ุงููุบุฉ ุฅูู ุงูุฅูุฌููุฒูุฉ โ ุงูุฑุณุงูุฉ ุจุงูุฅูุฌููุฒูุฉ
3. โ ุบููุฑ ุงููุบุฉ ุฅูู ุงููุฑูุณูุฉ โ ุงูุฑุณุงูุฉ ุจุงููุฑูุณูุฉ

### ุงุฎุชุจุงุฑ 4: RTL/LTR
1. โ ูู ุงูุนุฑุจูุฉ: ุงูุฃุฒุฑุงุฑ ูู ุงููููู ูููุณุงุฑ
2. โ ูู ุงูุฅูุฌููุฒูุฉ/ุงููุฑูุณูุฉ: ุงูุฃุฒุฑุงุฑ ูู ุงููุณุงุฑ ูููููู

---

## ๐ก ููุงุญุธุงุช ูููุฉ

### ุฅุถุงูุฉ ุตูุญุงุช ุฌุฏูุฏุฉ ููุงุฆูุฉ Exit Pages:
```javascript
// ูู useExitConfirm.js
const exitPages = [
  '/login',
  '/entry',
  // ... ุงูุตูุญุงุช ุงูููุฌูุฏุฉ
  '/your-new-page', // โ ุฃุถู ุตูุญุชู ููุง
];
```

### ุงุณุชุฎุฏุงู requestExit() ูู ุฃุฒุฑุงุฑ ุงูุฎุฑูุฌ:
```jsx
// ูู ุฃู ุตูุญุฉ
const { requestExit } = useExitConfirm();

<button onClick={requestExit}>
  ุฎุฑูุฌ
</button>
```

### ุงูุชุนุงูู ูุน ุจูุฆุฉ ุงูููุจ:
- ุนูู ุงููุงุชู: `CapacitorApp.exitApp()` ููุบูู ุงูุชุทุจูู
- ูู ุงููุชุตูุญ: ูุญุงูู `window.close()` ุฃู ููุชูู ูู `/entry`

---

## ๐ฏ ุงูุฎูุงุตุฉ

ุชู ุฅูุดุงุก ูุธุงู ุดุงูู ูุชุฃููุฏ ุงูุฎุฑูุฌ ูู ุงูุชุทุจูู ูุนูู ูุน:
- โ ุฒุฑ ุงูุฎูู ูู ุงููุงุชู
- โ ุฃุฒุฑุงุฑ ุงูุฎุฑูุฌ ูู ุงููุงุฌูุฉ
- โ ุตูุญุงุช ูุญุฏุฏุฉ (Exit Pages)
- โ ุฏุนู 3 ูุบุงุช
- โ ุชุตููู ููุญุฏ
- โ RTL/LTR support

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูู ุฃู ุตูุญุฉ ุจุฅุถุงูุฉ 3 ุฃุณุทุฑ ููุท!

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2026-02-16  
**ุงููุทูุฑ**: Eng.AlaaUddien
