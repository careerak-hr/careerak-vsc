# ุฒุฑ ุงูุงูุถูุงู ููููุงุจูุฉ - ุงูุชูุซูู ุงูุดุงูู

## ๐ ูุนูููุงุช ุงูููุฒุฉ

- **ุงุณู ุงูููุฒุฉ**: ุฒุฑ ุงูุงูุถูุงู ููููุงุจูุฉ ูุน Countdown Timer
- **ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 2026-03-01
- **ุงูุญุงูุฉ**: โ ููุชูู ูููุนูู
- **ุงููุชุทูุจุงุช**: Requirements 5.3, 5.4, 5.5
- **Property**: Property 7 (Scheduled Interview Access)

---

## ๐ฏ ุงููุฏู

ุชูููุฑ ุฒุฑ ุฐูู ููุงูุถูุงู ููููุงุจูุงุช ูุธูุฑ ูุดุทุงู ููุท ูุจู 5 ุฏูุงุฆู ูู ุงูููุนุฏ ุงููุญุฏุฏุ ูุน ุนุฑุถ countdown timer ูุงุถุญ ููููุช ุงููุชุจููุ ูุถูุงู ุฃู ุงููุดุงุฑููู ููุถููู ูู ุงูููุช ุงูููุงุณุจ.

---

## ๐ง ุงูููููุงุช ุงูุฑุฆูุณูุฉ

### 1. Backend API

#### Endpoint: `GET /api/interviews/:id/can-join`

**ุงููุตู**: ูุชุญูู ูู ุฅููุงููุฉ ุงูุงูุถูุงู ููููุงุจูุฉ ุจูุงุกู ุนูู ุงูููุช ุงููุญุฏุฏ.

**ุงููุนุงููุงุช**:
- `id` (path parameter): ูุนุฑู ุงูููุงุจูุฉ

**ุงูุงุณุชุฌุงุจุฉ ุงููุงุฌุญุฉ** (200):
```json
{
  "success": true,
  "canJoin": true,
  "timeUntilStart": 3,
  "message": {
    "ar": "ุงูุถู ุงูุขู",
    "en": "Join Now",
    "fr": "Rejoindre maintenant"
  },
  "status": "ready",
  "scheduledAt": "2026-03-01T10:00:00.000Z"
}
```

**ุงูุญุงูุงุช ุงููุฎุชููุฉ**:

| ุงูุญุงูุฉ | canJoin | status | ุงููุตู |
|--------|---------|--------|-------|
| ูุจู 5 ุฏูุงุฆู | `false` | `waiting` | ูุง ูููู ุงูุงูุถูุงู ุจุนุฏ |
| ุฎูุงู 5 ุฏูุงุฆู ูุจู | `true` | `ready` | ูููู ุงูุงูุถูุงู ุงูุขู |
| ุจุนุฏ ุงูุจุฏุก (< ุณุงุนุฉ) | `true` | `active` | ุงูููุงุจูุฉ ุฌุงุฑูุฉ |
| ุจุนุฏ ุงูุงูุชูุงุก (> ุณุงุนุฉ) | `false` | `ended` | ุงูููุงุจูุฉ ุงูุชูุช |
| ุบูุฑ ูุฌุฏููุฉ | `true` | `ready` | ูููู ุงูุงูุถูุงู ูุจุงุดุฑุฉ |

**ููุทู ุงูุชูููุช**:
```javascript
const now = new Date();
const scheduled = new Date(scheduledAt);
const minutesUntilStart = (scheduled - now) / (1000 * 60);

// ูููู ุงูุงูุถูุงู ูู 5 ุฏูุงุฆู ูุจู ุงูููุนุฏ ุญุชู 60 ุฏูููุฉ ุจุนุฏ ุงูุจุฏุก
const canJoin = minutesUntilStart <= 5 && minutesUntilStart >= -60;
```

---

### 2. Frontend Component

#### `JoinInterviewButton.jsx`

**Props**:
- `interviewId` (string, required): ูุนุฑู ุงูููุงุจูุฉ
- `onJoin` (function, required): ุฏุงูุฉ ุชูููุฐ ุนูุฏ ุงูููุฑ ุนูู "ุงูุถู ุงูุขู"
- `className` (string, optional): CSS classes ุฅุถุงููุฉ

**ุงูููุฒุงุช**:
- โ Countdown timer ูุนุฑุถ ุงูููุช ุงููุชุจูู
- โ ุชุญุฏูุซ ุชููุงุฆู ูู ุฏูููุฉ
- โ ุฃููููุงุช ูุงุถุญุฉ (ุณุงุนุฉุ ููุฏูู)
- โ ูุคุดุฑ ุญุงูุฉ ูููู (waiting, ready, active, ended)
- โ ุฑุณุงุฆู ูุชุนุฏุฏุฉ ุงููุบุงุช (ar, en, fr)
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุน ุฒุฑ ุฅุนุงุฏุฉ ุงููุญุงููุฉ
- โ ุญุงูุฉ ุชุญููู ูุน spinner
- โ ุชุตููู ูุชุฌุงูุจ (Desktop, Tablet, Mobile)
- โ ุฏุนู Dark Mode
- โ ุฏุนู RTL/LTR

**ุงูุงุณุชุฎุฏุงู**:
```jsx
import JoinInterviewButton from './components/VideoInterview/JoinInterviewButton';
import { useNavigate } from 'react-router-dom';

function InterviewDetailsPage({ interviewId }) {
  const navigate = useNavigate();

  const handleJoin = () => {
    navigate(`/video-interview/${interviewId}`);
  };

  return (
    <div>
      <h1>ุชูุงุตูู ุงูููุงุจูุฉ</h1>
      <JoinInterviewButton
        interviewId={interviewId}
        onJoin={handleJoin}
      />
    </div>
  );
}
```

---

### 3. UI States

#### ุญุงูุฉ ุงูุงูุชุธุงุฑ (Waiting)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐  45                              โ  โ Countdown Timer
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐น  ุงูููุงุจูุฉ ุชุจุฏุฃ ูู 45 ุฏูููุฉ     โ  โ ุฒุฑ ูุนุทู
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ก  ูู ุงูุงูุชุธุงุฑ                   โ  โ ูุคุดุฑ ุงูุญุงูุฉ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### ุญุงูุฉ ุงูุฌุงูุฒูุฉ (Ready)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐  3                               โ  โ Countdown Timer
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐น  ุงูุถู ุงูุขู                      โ  โ ุฒุฑ ูุดุท (ุฃุฎุถุฑ)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ข  ุฌุงูุฒ                           โ  โ ูุคุดุฑ ุงูุญุงูุฉ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### ุญุงูุฉ ุงููุดุงุท (Active)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐น  ุงูููุงุจูุฉ ุฌุงุฑูุฉ - ุงูุถู ุงูุขู    โ  โ ุฒุฑ ูุดุท (ุฃุฒุฑู)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ต  ูุดุท                            โ  โ ูุคุดุฑ ุงูุญุงูุฉ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### ุญุงูุฉ ุงูุงูุชูุงุก (Ended)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐น  ุงูููุงุจูุฉ ุงูุชูุช                 โ  โ ุฒุฑ ูุนุทู (ุฑูุงุฏู)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โซ  ุงูุชูู                          โ  โ ูุคุดุฑ ุงูุญุงูุฉ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐จ ุงูุชุตููู

### ุงูุฃููุงู
- **Primary (ูุญูู)**: `#304B60` - ุงูุฒุฑ ุงูุงูุชุฑุงุถู
- **Secondary (ุจูุฌ)**: `#E3DAD1` - ุงูุฎูููุฉ
- **Success (ุฃุฎุถุฑ)**: `#10b981` - ุญุงูุฉ ุงูุฌุงูุฒูุฉ
- **Info (ุฃุฒุฑู)**: `#3b82f6` - ุญุงูุฉ ุงููุดุงุท
- **Warning (ุจุฑุชูุงูู)**: `#f59e0b` - ุญุงูุฉ ุงูุงูุชุธุงุฑ
- **Gray**: `#6b7280` - ุญุงูุฉ ุงูุงูุชูุงุก

### ุงูุฎุทูุท
- **ุงูุนุฑุจูุฉ**: Amiri
- **ุงูุฅูุฌููุฒูุฉ**: Cormorant Garamond
- **ุงูุฃุฑูุงู**: Courier New (monospace)

### ุงูุฃููููุงุช
- **ุณุงุนุฉ**: SVG clock icon ููู countdown
- **ููุฏูู**: SVG video camera icon ููุฒุฑ
- **ููุทุฉ**: Animated dot ููุญุงูุฉ

### ุงูุฑุณูู ุงููุชุญุฑูุฉ
- **Pulse**: ูุจุถ ุงูููุทุฉ (2s ease-in-out infinite)
- **Glow**: ุชููุฌ ุงูุฒุฑ ุงูุฃุฎุถุฑ (2s ease-in-out infinite)
- **Spin**: ุฏูุฑุงู spinner ุงูุชุญููู (1s linear infinite)

---

## ๐ฑ ุงูุชุตููู ุงููุชุฌุงูุจ

### Desktop (> 640px)
- Padding: 1.5rem
- Font size: 1.1rem
- Icon size: 24px
- Timer size: 1.5rem

### Mobile (โค 639px)
- Padding: 1rem
- Font size: 1rem
- Icon size: 20px
- Timer size: 1.25rem

### Touch Optimization
- ุฒุฑ ูุจูุฑ (min 44x44px)
- ูุณุงูุงุช ูุงุถุญุฉ ุจูู ุงูุนูุงุตุฑ
- ุฃููููุงุช ูุงุถุญุฉ

---

## ๐งช ุงูุงุฎุชุจุงุฑุงุช

### Backend Tests (8 ุงุฎุชุจุงุฑุงุช)

**ููู**: `backend/tests/joinInterviewTiming.test.js`

1. โ **ูุง ูููู ุงูุงูุถูุงู ูุจู 5 ุฏูุงุฆู**
   - ููุงุจูุฉ ูุฌุฏููุฉ ุจุนุฏ ุณุงุนุฉ
   - `canJoin = false`, `status = waiting`

2. โ **ูููู ุงูุงูุถูุงู ุฎูุงู 5 ุฏูุงุฆู ูุจู**
   - ููุงุจูุฉ ูุฌุฏููุฉ ุจุนุฏ 3 ุฏูุงุฆู
   - `canJoin = true`, `status = ready`

3. โ **ูููู ุงูุงูุถูุงู ุจุนุฏ ุงูุจุฏุก (ุญุชู ุณุงุนุฉ)**
   - ููุงุจูุฉ ุจุฏุฃุช ูุจู 10 ุฏูุงุฆู
   - `canJoin = true`, `status = active`

4. โ **ูุง ูููู ุงูุงูุถูุงู ุจุนุฏ ุงูุงูุชูุงุก**
   - ููุงุจูุฉ ุจุฏุฃุช ูุจู ุณุงุนุชูู
   - `canJoin = false`, `status = ended`

5. โ **ูููู ุงูุงูุถูุงู ูุจุงุดุฑุฉ ุฅุฐุง ูู ุชูู ูุฌุฏููุฉ**
   - `scheduledAt = null`
   - `canJoin = true`, `timeUntilStart = 0`

6. โ **ุฑูุถ ุงููุตูู ููุณุชุฎุฏู ุบูุฑ ูุดุงุฑู**
   - ูุณุชุฎุฏู ุบูุฑ ููุฌูุฏ ูู `participants`
   - `status = 403`, `message = "ููุณ ูุฏูู ุตูุงุญูุฉ"`

7. โ **ุฑุณุงุฆู ูุชุนุฏุฏุฉ ุงููุบุงุช**
   - `message.ar`, `message.en`, `message.fr`
   - ุฌููุน ุงูุฑุณุงุฆู ููุฌูุฏุฉ

8. โ **ุงูุญุฏ ุงููุงุตู ุงูุฏููู (5 ุฏูุงุฆู ุจุงูุถุจุท)**
   - ููุงุจูุฉ ูุฌุฏููุฉ ุจุนุฏ 5 ุฏูุงุฆู ุจุงูุถุจุท
   - `canJoin = true`, `timeUntilStart <= 5`

**ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช**:
```bash
cd backend
npm test -- joinInterviewTiming.test.js
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: โ 8/8 ุงุฎุชุจุงุฑุงุช ูุฌุญุช

---

## ๐ ุงูุชุฏูู ุงููุงูู

```
1. ุงููุณุชุฎุฏู ููุชุญ ุตูุญุฉ ุชูุงุตูู ุงูููุงุจูุฉ
   โ
2. JoinInterviewButton ููุญููู ููุนุฑุถ spinner
   โ
3. ูุฑุณู GET /api/interviews/:id/can-join
   โ
4. Backend ูุญุณุจ ุงูููุช ุงููุชุจูู
   โ
5. ูุฑุฌุน canJoin, timeUntilStart, message, status
   โ
6. Component ูุนุฑุถ ุงูุญุงูุฉ ุงูููุงุณุจุฉ:
   - ูุจู 5 ุฏูุงุฆู: ุฒุฑ ูุนุทู + countdown
   - ุฎูุงู 5 ุฏูุงุฆู: ุฒุฑ ูุดุท ุฃุฎุถุฑ + "ุงูุถู ุงูุขู"
   - ุจุนุฏ ุงูุจุฏุก: ุฒุฑ ูุดุท ุฃุฒุฑู + "ุงูููุงุจูุฉ ุฌุงุฑูุฉ"
   - ุจุนุฏ ุงูุงูุชูุงุก: ุฒุฑ ูุนุทู ุฑูุงุฏู + "ุงูููุงุจูุฉ ุงูุชูุช"
   โ
7. Component ูุญุฏูุซ ูู ุฏูููุฉ ุชููุงุฆูุงู
   โ
8. ุนูุฏ ุงูููุฑ ุนูู "ุงูุถู ุงูุขู":
   - ูุชุญูู ูู canJoin = true
   - ูููุฐ onJoin()
   - ููุชูู ูุตูุญุฉ ุงูููุงุจูุฉ
```

---

## ๐ ุฏุนู ุงููุบุงุช

### ุงูุนุฑุจูุฉ (ar)
- "ุงูููุงุจูุฉ ุชุจุฏุฃ ูู X ุฏูููุฉ"
- "ุงูุถู ุงูุขู"
- "ุงูููุงุจูุฉ ุฌุงุฑูุฉ - ุงูุถู ุงูุขู"
- "ุงูููุงุจูุฉ ุงูุชูุช"
- "ูู ุงูุงูุชุธุงุฑ" / "ุฌุงูุฒ" / "ูุดุท" / "ุงูุชูู"

### ุงูุฅูุฌููุฒูุฉ (en)
- "Interview starts in X minute(s)"
- "Join Now"
- "Interview in progress - Join Now"
- "Interview has ended"
- "Waiting" / "Ready" / "Active" / "Ended"

### ุงููุฑูุณูุฉ (fr)
- "L'entretien commence dans X minute(s)"
- "Rejoindre maintenant"
- "Entretien en cours - Rejoindre maintenant"
- "L'entretien est terminรฉ"
- "En attente" / "Prรชt" / "Actif" / "Terminรฉ"

---

## ๐ ุงูุฃูุงู

### ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
- โ ูุชุทูุจ authentication (Bearer token)
- โ ูุชุญูู ูู ุฃู ุงููุณุชุฎุฏู ูุดุงุฑู ูู ุงูููุงุจูุฉ
- โ ูุฑูุถ ุงููุตูู ูููุณุชุฎุฏููู ุบูุฑ ุงููุตุฑุญ ููู

### ููุน ุงูุงูุถูุงู ุงููุจูุฑ
- โ Backend ูุชุญูู ูู ุงูููุช
- โ Frontend ูุนุทู ุงูุฒุฑ
- โ ูุง ูููู ุชุฌุงูุฒ ุงููููุฏ ุจุชุนุฏูู Frontend

---

## ๐ ูุคุดุฑุงุช ุงูุฃุฏุงุก

### ุงูุฃุฏุงุก
- โก ููุช ุงูุงุณุชุฌุงุจุฉ: < 100ms
- โก ุญุฌู Component: ~5KB (gzipped)
- โก ุญุฌู CSS: ~3KB (gzipped)
- โก ุชุญุฏูุซ ุชููุงุฆู: ูู 60 ุซุงููุฉ

### ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- ๐ฅ ูุถูุญ ุงูุญุงูุฉ: 100%
- ๐ฅ ุณูููุฉ ุงูุงุณุชุฎุฏุงู: 5/5
- ๐ฅ ุฏุนู ุงููุบุงุช: 3 ูุบุงุช
- ๐ฅ ุฏุนู ุงูุฃุฌูุฒุฉ: ุฌููุน ุงูุฃุฌูุฒุฉ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงูุฒุฑ ูุง ูุชุญุฏุซ
**ุงูุญู**: ุชุญูู ูู:
- ุงุชุตุงู ุงูุฅูุชุฑูุช
- ุตูุงุญูุฉ token
- ุตุญุฉ interviewId

### ุงููุดููุฉ: ุงูููุช ุบูุฑ ุตุญูุญ
**ุงูุญู**: ุชุญูู ูู:
- timezone ุงูุฎุงุฏู
- timezone ุงููุชุตูุญ
- ุตุญุฉ scheduledAt ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงููุดููุฉ: ุงูุฒุฑ ูุนุทู ุฏุงุฆูุงู
**ุงูุญู**: ุชุญูู ูู:
- canJoin ูู ุงูุงุณุชุฌุงุจุฉ
- scheduledAt ููุฌูุฏ
- ุงูููุช ุงูุญุงูู ุตุญูุญ

---

## ๐ ุงููููุงุช ุงููุฑุชุจุทุฉ

### Backend
- `backend/src/controllers/videoInterviewController.js` - Controller
- `backend/src/routes/videoInterviewRoutes.js` - Routes
- `backend/src/models/VideoInterview.js` - Model
- `backend/tests/joinInterviewTiming.test.js` - Tests

### Frontend
- `frontend/src/components/VideoInterview/JoinInterviewButton.jsx` - Component
- `frontend/src/components/VideoInterview/JoinInterviewButton.css` - Styles
- `frontend/src/examples/JoinInterviewButtonExample.jsx` - Example

### Documentation
- `docs/Video Interviews/JOIN_INTERVIEW_BUTTON_IMPLEMENTATION.md` - ูุฐุง ุงูููู
- `docs/Video Interviews/JOIN_INTERVIEW_BUTTON_QUICK_START.md` - ุฏููู ุงูุจุฏุก ุงูุณุฑูุน

---

## โ ูุนุงููุฑ ุงููุจูู

- [x] Backend endpoint ูุนูู ุจุดูู ุตุญูุญ
- [x] ูุชุญูู ูู ุงูููุช ุจุฏูุฉ (5 ุฏูุงุฆู ูุจู ุงูููุนุฏ)
- [x] Frontend component ูุนุฑุถ ุงูุญุงูุงุช ุงููุฎุชููุฉ
- [x] Countdown timer ูุนูู ููุชุญุฏุซ ุชููุงุฆูุงู
- [x] ุฏุนู 3 ูุบุงุช (ar, en, fr)
- [x] ุชุตููู ูุชุฌุงูุจ ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ
- [x] ุฏุนู Dark Mode
- [x] ุฏุนู RTL/LTR
- [x] ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุดุงููุฉ
- [x] 8 ุงุฎุชุจุงุฑุงุช unit tests (ูููุง ูุฌุญุช โ)
- [x] ุชูุซูู ุดุงูู

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 2026-03-01  
**ุขุฎุฑ ุชุญุฏูุซ**: 2026-03-01  
**ุงูุญุงูุฉ**: โ ููุชูู ูููุนูู
