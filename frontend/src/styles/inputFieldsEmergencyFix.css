/*
 * حل الطوارئ النهائي لمشكلة حقول الإدخال المقفلة
 * EMERGENCY FINAL SOLUTION for Locked Input Fields Issue
 * 
 * هذا الحل يتجاوز جميع القيود ويضمن عمل الحقول 100%
 */

/* ===== إجبار مطلق لجميع حقول الإدخال - أولوية قصوى ===== */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="tel"],
input[type="date"],
input[type="number"],
textarea,
select {
  /* إجبار التفاعل - أولوية مطلقة */
  pointer-events: auto !important;
  touch-action: manipulation !important;
  
  /* إجبار إمكانية الكتابة والتحديد */
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
  user-select: text !important;
  
  /* ضمان الرؤية والوصول */
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;

  /* طبقة عالية جداً - أعلى من جميع العناصر */
  z-index: 99999 !important;
  position: relative !important;
  
  /* ضمان المؤشر الصحيح */
  cursor: text !important;
  
  /* إزالة أي قيود على التفاعل */
  -webkit-touch-callout: default !important;
  -webkit-tap-highlight-color: rgba(0,0,0,0.1) !important;
  
  /* ضمان عدم وجود overlay */
  background-clip: padding-box !important;
}

/* ===== إصلاح خاص للقوائم المنسدلة ===== */
select {
  cursor: pointer !important;
  -webkit-appearance: menulist !important;
  -moz-appearance: menulist !important;
  appearance: menulist !important;
}

/* ===== إصلاح خاص عند التركيز ===== */
input:focus,
textarea:focus,
select:focus {
  outline: 2px solid #304B60 !important;
  outline-offset: 2px !important;
  border-color: #304B60 !important;
  z-index: 999999 !important;
}

/* ===== إصلاح خاص للحقول في صفحات المصادقة ===== */
.auth-input,
.auth-select,
.input-field-enabled {
  pointer-events: auto !important;
  touch-action: manipulation !important;
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  user-select: text !important;
  cursor: text !important;
  z-index: 99999 !important;
  position: relative !important;
}

.auth-select,
select.input-field-enabled {
  cursor: pointer !important;
}

/* ===== إزالة أي عوائق محتملة ===== */
.auth-page *:not(input):not(textarea):not(select):not(button) {
  pointer-events: none !important;
}

.auth-page input,
.auth-page textarea,
.auth-page select,
.auth-page button {
  pointer-events: auto !important;
}

/* ===== إصلاح خاص للأجهزة المحمولة ===== */
@media screen and (max-width: 768px) {
  input,
  textarea,
  select {
    /* منع التكبير في iOS */
    font-size: 16px !important;
    /* ضمان التفاعل على الأجهزة المحمولة */
    touch-action: manipulation !important;
    -webkit-tap-highlight-color: rgba(48, 75, 96, 0.2) !important;
  }
}

/* ===== إصلاح خاص لصفحة تسجيل الدخول ===== */
.login-page input {
  pointer-events: auto !important;
  touch-action: manipulation !important;
  cursor: text !important;
  z-index: 99999 !important;
}

/* ===== إصلاح شامل لجميع الصفحات ===== */
body input,
body textarea,
body select {
  pointer-events: auto !important;
  touch-action: manipulation !important;
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  user-select: text !important;
  cursor: text !important;
  z-index: 99999 !important;
  position: relative !important;
}

body select {
  cursor: pointer !important;
}

/* ===== إزالة أي تداخل من العناصر الأخرى ===== */
* {
  /* السماح للحقول بالتفاعل */
}

*:not(input):not(textarea):not(select):not(button):not(a):not([role="button"]):not([tabindex]) {
  pointer-events: none !important;
}

input, textarea, select, button, a, [role="button"], [tabindex], [onclick] {
  pointer-events: auto !important;
}