{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import{BrowserRouter as Router,Routes,Route,Navigate}from\"react-router-dom\";import{StatusBar,Style}from\"@capacitor/status-bar\";import{App as CapApp}from\"@capacitor/app\";import{AuthProvider,useAuth}from\"./context/AuthContext\";import LanguagePage from\"./pages/00_LanguagePage\";import{WelcomePage}from\"./pages/01_WelcomePage\";import{AuthPage}from\"./pages/03_AuthPage\";import{OnboardingIndividuals}from\"./pages/03_OnboardingIndividuals\";import{OnboardingCompanies}from\"./pages/03_OnboardingCompanies\";import{OTPVerification}from\"./pages/03_OTPVerification\";import{SettingsPage}from\"./pages/08_SettingsPage\";import{PolicyPage}from\"./pages/07_PolicyPage\";import{CountryPage}from\"./pages/00_CountryPage\";import{JobPostingsPage}from\"./pages/04_JobPostingsPage\";import{CoursesPage}from\"./pages/05_CoursesPage\";import{ProfilePage}from\"./pages/06_ProfilePage\";import{SplashScreen}from\"./components/SplashScreen\";import{FloatingWhatsApp}from\"./components/FloatingWhatsApp\";import{Navbar}from\"./components/Navbar\";import\"./index.css\";/* ================= AppContent ================= */import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function AppContent(){const{isAuthenticated,user,loading,language}=useAuth();const[showSplash,setShowSplash]=useState(true);const bgMusic=useRef(null);// موسيقى الخلفية\nuseEffect(()=>{if(!showSplash){if(!bgMusic.current){bgMusic.current=new Audio(\"/Music.mp3\");bgMusic.current.loop=true;bgMusic.current.volume=0.4;}const playMusic=()=>bgMusic.current.play().catch(()=>{});playMusic();const listener=CapApp.addListener(\"appStateChange\",_ref=>{let{isActive}=_ref;isActive?playMusic():bgMusic.current.pause();});return()=>{listener.then(l=>l.remove());bgMusic.current.pause();};}},[showSplash]);// StatusBar\nuseEffect(()=>{StatusBar.setBackgroundColor({color:\"#E3DAD0\"}).catch(()=>{});StatusBar.setStyle({style:Style.Light}).catch(()=>{});},[]);if(showSplash||loading){return/*#__PURE__*/_jsx(SplashScreen,{onFinish:()=>setShowSplash(false)});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col min-h-screen w-full bg-[#E3DAD0] font-arabic\",dir:language===\"ar\"?\"rtl\":\"ltr\",children:[isAuthenticated&&/*#__PURE__*/_jsx(Navbar,{lang:language,user:user}),/*#__PURE__*/_jsx(FloatingWhatsApp,{}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-grow w-full\",children:/*#__PURE__*/_jsxs(Routes,{children:[!language&&/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(LanguagePage,{})}),language&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/auth\"})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",element:/*#__PURE__*/_jsx(AuthPage,{lang:language})}),/*#__PURE__*/_jsx(Route,{path:\"/welcome\",element:/*#__PURE__*/_jsx(WelcomePage,{lang:language})}),/*#__PURE__*/_jsx(Route,{path:\"/country\",element:/*#__PURE__*/_jsx(CountryPage,{lang:language})}),/*#__PURE__*/_jsx(Route,{path:\"/verify-otp\",element:/*#__PURE__*/_jsx(OTPVerification,{})}),/*#__PURE__*/_jsx(Route,{path:\"/policy\",element:/*#__PURE__*/_jsx(PolicyPage,{lang:language})}),/*#__PURE__*/_jsx(Route,{path:\"/onboarding-individuals\",element:/*#__PURE__*/_jsx(OnboardingIndividuals,{lang:language})}),/*#__PURE__*/_jsx(Route,{path:\"/onboarding-companies\",element:/*#__PURE__*/_jsx(OnboardingCompanies,{lang:language})}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:/*#__PURE__*/_jsx(SettingsPage,{lang:language})}),/*#__PURE__*/_jsx(Route,{path:\"/jobs\",element:/*#__PURE__*/_jsx(JobPostingsPage,{lang:language})}),/*#__PURE__*/_jsx(Route,{path:\"/courses\",element:/*#__PURE__*/_jsx(CoursesPage,{lang:language})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProfilePage,{lang:language})}),isAuthenticated?/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"})}):/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/auth\"})})]})]})})]});}/* ================= App Root ================= */export default function App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(AppContent,{})})});}","map":{"version":3,"names":["React","useState","useEffect","useRef","BrowserRouter","Router","Routes","Route","Navigate","StatusBar","Style","App","CapApp","AuthProvider","useAuth","LanguagePage","WelcomePage","AuthPage","OnboardingIndividuals","OnboardingCompanies","OTPVerification","SettingsPage","PolicyPage","CountryPage","JobPostingsPage","CoursesPage","ProfilePage","SplashScreen","FloatingWhatsApp","Navbar","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","AppContent","isAuthenticated","user","loading","language","showSplash","setShowSplash","bgMusic","current","Audio","loop","volume","playMusic","play","catch","listener","addListener","_ref","isActive","pause","then","l","remove","setBackgroundColor","color","setStyle","style","Light","onFinish","className","dir","children","lang","path","element","to"],"sources":["D:/Careerak/Careerak-vsc/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\";\r\nimport { StatusBar, Style } from \"@capacitor/status-bar\";\r\nimport { App as CapApp } from \"@capacitor/app\";\r\n\r\nimport { AuthProvider, useAuth } from \"./context/AuthContext\";\r\n\r\nimport LanguagePage from \"./pages/00_LanguagePage\";\r\nimport { WelcomePage } from \"./pages/01_WelcomePage\";\r\nimport { AuthPage } from \"./pages/03_AuthPage\";\r\nimport { OnboardingIndividuals } from \"./pages/03_OnboardingIndividuals\";\r\nimport { OnboardingCompanies } from \"./pages/03_OnboardingCompanies\";\r\nimport { OTPVerification } from \"./pages/03_OTPVerification\";\r\nimport { SettingsPage } from \"./pages/08_SettingsPage\";\r\nimport { PolicyPage } from \"./pages/07_PolicyPage\";\r\nimport { CountryPage } from \"./pages/00_CountryPage\";\r\nimport { JobPostingsPage } from \"./pages/04_JobPostingsPage\";\r\nimport { CoursesPage } from \"./pages/05_CoursesPage\";\r\nimport { ProfilePage } from \"./pages/06_ProfilePage\";\r\n\r\nimport { SplashScreen } from \"./components/SplashScreen\";\r\nimport { FloatingWhatsApp } from \"./components/FloatingWhatsApp\";\r\nimport { Navbar } from \"./components/Navbar\";\r\n\r\nimport \"./index.css\";\r\n\r\n/* ================= AppContent ================= */\r\n\r\nfunction AppContent() {\r\n  const { isAuthenticated, user, loading, language } = useAuth();\r\n  const [showSplash, setShowSplash] = useState(true);\r\n  const bgMusic = useRef(null);\r\n\r\n  // موسيقى الخلفية\r\n  useEffect(() => {\r\n    if (!showSplash) {\r\n      if (!bgMusic.current) {\r\n        bgMusic.current = new Audio(\"/Music.mp3\");\r\n        bgMusic.current.loop = true;\r\n        bgMusic.current.volume = 0.4;\r\n      }\r\n\r\n      const playMusic = () => bgMusic.current.play().catch(() => {});\r\n      playMusic();\r\n\r\n      const listener = CapApp.addListener(\"appStateChange\", ({ isActive }) => {\r\n        isActive ? playMusic() : bgMusic.current.pause();\r\n      });\r\n\r\n      return () => {\r\n        listener.then(l => l.remove());\r\n        bgMusic.current.pause();\r\n      };\r\n    }\r\n  }, [showSplash]);\r\n\r\n  // StatusBar\r\n  useEffect(() => {\r\n    StatusBar.setBackgroundColor({ color: \"#E3DAD0\" }).catch(() => {});\r\n    StatusBar.setStyle({ style: Style.Light }).catch(() => {});\r\n  }, []);\r\n\r\n  if (showSplash || loading) {\r\n    return <SplashScreen onFinish={() => setShowSplash(false)} />;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"flex flex-col min-h-screen w-full bg-[#E3DAD0] font-arabic\"\r\n      dir={language === \"ar\" ? \"rtl\" : \"ltr\"}\r\n    >\r\n      {isAuthenticated && <Navbar lang={language} user={user} />}\r\n      <FloatingWhatsApp />\r\n\r\n      <main className=\"flex-grow w-full\">\r\n        <Routes>\r\n          {/* اختيار اللغة */}\r\n          {!language && <Route path=\"*\" element={<LanguagePage />} />}\r\n\r\n          {/* بعد اختيار اللغة */}\r\n          {language && (\r\n            <>\r\n              <Route path=\"/\" element={<Navigate to=\"/auth\" />} />\r\n              <Route path=\"/auth\" element={<AuthPage lang={language} />} />\r\n              <Route path=\"/welcome\" element={<WelcomePage lang={language} />} />\r\n              <Route path=\"/country\" element={<CountryPage lang={language} />} />\r\n              <Route path=\"/verify-otp\" element={<OTPVerification />} />\r\n              <Route path=\"/policy\" element={<PolicyPage lang={language} />} />\r\n              <Route path=\"/onboarding-individuals\" element={<OnboardingIndividuals lang={language} />} />\r\n              <Route path=\"/onboarding-companies\" element={<OnboardingCompanies lang={language} />} />\r\n              <Route path=\"/settings\" element={<SettingsPage lang={language} />} />\r\n              <Route path=\"/jobs\" element={<JobPostingsPage lang={language} />} />\r\n              <Route path=\"/courses\" element={<CoursesPage lang={language} />} />\r\n              <Route path=\"/profile\" element={<ProfilePage lang={language} />} />\r\n\r\n              {isAuthenticated ? (\r\n                <Route path=\"*\" element={<Navigate to=\"/dashboard\" />} />\r\n              ) : (\r\n                <Route path=\"*\" element={<Navigate to=\"/auth\" />} />\r\n              )}\r\n            </>\r\n          )}\r\n        </Routes>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ================= App Root ================= */\r\n\r\nexport default function App() {\r\n  return (\r\n    <AuthProvider>\r\n      <Router>\r\n        <AppContent />\r\n      </Router>\r\n    </AuthProvider>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}