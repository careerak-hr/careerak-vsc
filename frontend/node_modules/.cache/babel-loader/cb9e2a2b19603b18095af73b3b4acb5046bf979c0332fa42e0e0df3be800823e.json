{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{discoverBestServer}from'../services/api';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const entryTranslations={ar:{slogan:\"مستقبل الموارد البشرية\"},en:{slogan:\"The Future of HR\"},fr:{slogan:\"L'avenir des RH\"}};export default function EntryPage(){const[phase,setPhase]=useState(0);const navigate=useNavigate();const{audioEnabled,language}=useAuth();const t=entryTranslations[language]||entryTranslations.ar;useEffect(()=>{// 1. إدارة الصوت بناءً على تفضيلات المستخدم\nconst audio=new Audio('/intro.mp3');audio.volume=0.8;if(audioEnabled){audio.play().catch(e=>console.log(\"Audio play blocked by browser\"));}// 2. اكتشاف السيرفر في الخلفية\nconst initServer=async()=>{try{await discoverBestServer();}catch(error){console.error(\"Server discovery failed\",error);}};initServer();// 3. مراحل الأنيميشن (9 ثوانٍ)\nconst timers=[setTimeout(()=>setPhase(1),500),setTimeout(()=>setPhase(2),2000),setTimeout(()=>setPhase(3),7500),setTimeout(()=>{audio.pause();// التوجيه تلقائياً لصفحة تسجيل الدخول\nnavigate('/login',{replace:true});},9000)];return()=>{timers.forEach(clearTimeout);audio.pause();};},[navigate,audioEnabled]);return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-[10000] flex flex-col items-center justify-center overflow-hidden bg-[#E3DAD0] select-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-b from-white/20 to-transparent transition-opacity duration-1000 \".concat(phase>=1?'opacity-100':'opacity-0')}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex flex-col items-center justify-center w-full h-full max-h-screen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute w-[150vw] h-[150vw] max-w-[800px] max-h-[800px] bg-[#1A365D] opacity-[0.04] rounded-full transition-transform duration-[8000ms] ease-out \".concat(phase>=2?'scale-150':'scale-0')}),/*#__PURE__*/_jsx(\"div\",{className:\"relative transition-all duration-1500 ease-out transform \".concat(phase===0?'scale-75 opacity-0':phase===1?'scale-110 opacity-100':phase===2?'scale-100 opacity-100':'scale-90 opacity-0'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative p-2 md:p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 border-2 border-[#1A365D]/10 rounded-full animate-spin-slow\"}),/*#__PURE__*/_jsx(\"img\",{src:\"/logo.jpg\",alt:\"Logo\",className:\"relative h-32 w-32 md:h-48 md:w-48 rounded-full border-[4px] border-white shadow-2xl object-cover\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 md:mt-12 text-center transition-all duration-1000 delay-300 transform \".concat(phase>=1&&phase<3?'translate-y-0 opacity-100':'translate-y-10 opacity-0'),children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl md:text-6xl font-black text-[#1A365D] tracking-tight mb-2 drop-shadow-sm italic\",style:{fontFamily:'serif'},children:\"Careerak\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-[1px] w-8 md:w-12 bg-[#1A365D]/30\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[#1A365D]/70 font-bold text-[8px] md:text-xs uppercase tracking-[0.4em]\",children:t.slogan}),/*#__PURE__*/_jsx(\"div\",{className:\"h-[1px] w-8 md:w-12 bg-[#1A365D]/30\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-10 md:bottom-20 w-48 md:w-64 h-[2px] md:h-[3px] bg-[#1A365D]/10 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-[#1A365D] transition-all ease-linear\",style:{width:phase>=1?'100%':'0%',transitionDuration:'8500ms'}})})]});}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","discoverBestServer","useAuth","jsx","_jsx","jsxs","_jsxs","entryTranslations","ar","slogan","en","fr","EntryPage","phase","setPhase","navigate","audioEnabled","language","t","audio","Audio","volume","play","catch","e","console","log","initServer","error","timers","setTimeout","pause","replace","forEach","clearTimeout","className","children","concat","src","alt","style","fontFamily","width","transitionDuration"],"sources":["D:/Careerak/Careerak-vsc/frontend/src/pages/01_EntryPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { discoverBestServer } from '../services/api';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst entryTranslations = {\r\n  ar: { slogan: \"مستقبل الموارد البشرية\" },\r\n  en: { slogan: \"The Future of HR\" },\r\n  fr: { slogan: \"L'avenir des RH\" }\r\n};\r\n\r\nexport default function EntryPage() {\r\n  const [phase, setPhase] = useState(0);\r\n  const navigate = useNavigate();\r\n  const { audioEnabled, language } = useAuth();\r\n  const t = entryTranslations[language] || entryTranslations.ar;\r\n\r\n  useEffect(() => {\r\n    // 1. إدارة الصوت بناءً على تفضيلات المستخدم\r\n    const audio = new Audio('/intro.mp3');\r\n    audio.volume = 0.8;\r\n    \r\n    if (audioEnabled) {\r\n      audio.play().catch(e => console.log(\"Audio play blocked by browser\"));\r\n    }\r\n\r\n    // 2. اكتشاف السيرفر في الخلفية\r\n    const initServer = async () => {\r\n      try {\r\n        await discoverBestServer();\r\n      } catch (error) {\r\n        console.error(\"Server discovery failed\", error);\r\n      }\r\n    };\r\n    initServer();\r\n\r\n    // 3. مراحل الأنيميشن (9 ثوانٍ)\r\n    const timers = [\r\n      setTimeout(() => setPhase(1), 500),\r\n      setTimeout(() => setPhase(2), 2000),\r\n      setTimeout(() => setPhase(3), 7500),\r\n      setTimeout(() => {\r\n        audio.pause();\r\n        // التوجيه تلقائياً لصفحة تسجيل الدخول\r\n        navigate('/login', { replace: true });\r\n      }, 9000)\r\n    ];\r\n\r\n    return () => {\r\n      timers.forEach(clearTimeout);\r\n      audio.pause();\r\n    };\r\n  }, [navigate, audioEnabled]);\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-[10000] flex flex-col items-center justify-center overflow-hidden bg-[#E3DAD0] select-none\">\r\n      {/* التدرج اللوني الخلفي */}\r\n      <div className={`absolute inset-0 bg-gradient-to-b from-white/20 to-transparent transition-opacity duration-1000 ${phase >= 1 ? 'opacity-100' : 'opacity-0'}`}></div>\r\n      \r\n      <div className=\"relative flex flex-col items-center justify-center w-full h-full max-h-screen\">\r\n        <div className=\"relative flex items-center justify-center\">\r\n          {/* الدائرة المتحركة الكبيرة */}\r\n          <div className={`absolute w-[150vw] h-[150vw] max-w-[800px] max-h-[800px] bg-[#1A365D] opacity-[0.04] rounded-full transition-transform duration-[8000ms] ease-out ${phase >= 2 ? 'scale-150' : 'scale-0'}`}></div>\r\n          \r\n          <div className={`relative transition-all duration-1500 ease-out transform ${\r\n            phase === 0 ? 'scale-75 opacity-0' : \r\n            phase === 1 ? 'scale-110 opacity-100' : \r\n            phase === 2 ? 'scale-100 opacity-100' : \r\n            'scale-90 opacity-0'\r\n          }`}>\r\n            <div className=\"relative p-2 md:p-4\">\r\n              <div className=\"absolute inset-0 border-2 border-[#1A365D]/10 rounded-full animate-spin-slow\"></div>\r\n              <img src=\"/logo.jpg\" alt=\"Logo\" className=\"relative h-32 w-32 md:h-48 md:w-48 rounded-full border-[4px] border-white shadow-2xl object-cover\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* نصوص الهوية البصرية المترجمة */}\r\n        <div className={`mt-6 md:mt-12 text-center transition-all duration-1000 delay-300 transform ${phase >= 1 && phase < 3 ? 'translate-y-0 opacity-100' : 'translate-y-10 opacity-0'}`}>\r\n          <h1 className=\"text-4xl md:text-6xl font-black text-[#1A365D] tracking-tight mb-2 drop-shadow-sm italic\" style={{ fontFamily: 'serif' }}>Careerak</h1>\r\n          <div className=\"flex items-center justify-center gap-3\">\r\n            <div className=\"h-[1px] w-8 md:w-12 bg-[#1A365D]/30\"></div>\r\n            <p className=\"text-[#1A365D]/70 font-bold text-[8px] md:text-xs uppercase tracking-[0.4em]\">{t.slogan}</p>\r\n            <div className=\"h-[1px] w-8 md:w-12 bg-[#1A365D]/30\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* بار التحميل السفلي */}\r\n      <div className=\"absolute bottom-10 md:bottom-20 w-48 md:w-64 h-[2px] md:h-[3px] bg-[#1A365D]/10 rounded-full overflow-hidden\">\r\n        <div className=\"h-full bg-[#1A365D] transition-all ease-linear\" style={{ width: phase >= 1 ? '100%' : '0%', transitionDuration: '8500ms' }}></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}