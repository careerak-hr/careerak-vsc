{"ast":null,"code":"import React,{createContext,useContext,useEffect,useState}from\"react\";import{Preferences}from\"@capacitor/preferences\";import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();export const AuthProvider=_ref=>{let{children}=_ref;const[language,setLanguage]=useState(null);const[audioEnabled,setAudioEnabled]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const loadPrefs=async()=>{const{value:lang}=await Preferences.get({key:\"lang\"});const{value:audio}=await Preferences.get({key:\"audio_enabled\"});if(lang){setLanguage(lang);document.documentElement.lang=lang;document.documentElement.dir=lang===\"ar\"?\"rtl\":\"ltr\";}if(audio!==null){setAudioEnabled(audio===\"true\");}setLoading(false);};loadPrefs();},[]);const changeLanguage=async lang=>{await Preferences.set({key:\"lang\",value:lang});setLanguage(lang);document.documentElement.lang=lang;document.documentElement.dir=lang===\"ar\"?\"rtl\":\"ltr\";};const setAudio=async enabled=>{await Preferences.set({key:\"audio_enabled\",value:enabled?\"true\":\"false\"});setAudioEnabled(enabled);};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{language,audioEnabled,loading,changeLanguage,setAudio},children:children});};export const useAuth=()=>useContext(AuthContext);","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","Preferences","jsx","_jsx","AuthContext","AuthProvider","_ref","children","language","setLanguage","audioEnabled","setAudioEnabled","loading","setLoading","loadPrefs","value","lang","get","key","audio","document","documentElement","dir","changeLanguage","set","setAudio","enabled","Provider","useAuth"],"sources":["D:/Careerak/Careerak-vsc/frontend/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { Preferences } from \"@capacitor/preferences\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [language, setLanguage] = useState(null);\r\n  const [audioEnabled, setAudioEnabled] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const loadPrefs = async () => {\r\n      const { value: lang } = await Preferences.get({ key: \"lang\" });\r\n      const { value: audio } = await Preferences.get({ key: \"audio_enabled\" });\r\n\r\n      if (lang) {\r\n        setLanguage(lang);\r\n        document.documentElement.lang = lang;\r\n        document.documentElement.dir = lang === \"ar\" ? \"rtl\" : \"ltr\";\r\n      }\r\n\r\n      if (audio !== null) {\r\n        setAudioEnabled(audio === \"true\");\r\n      }\r\n\r\n      setLoading(false);\r\n    };\r\n\r\n    loadPrefs();\r\n  }, []);\r\n\r\n  const changeLanguage = async (lang) => {\r\n    await Preferences.set({ key: \"lang\", value: lang });\r\n    setLanguage(lang);\r\n    document.documentElement.lang = lang;\r\n    document.documentElement.dir = lang === \"ar\" ? \"rtl\" : \"ltr\";\r\n  };\r\n\r\n  const setAudio = async (enabled) => {\r\n    await Preferences.set({\r\n      key: \"audio_enabled\",\r\n      value: enabled ? \"true\" : \"false\",\r\n    });\r\n    setAudioEnabled(enabled);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        language,\r\n        audioEnabled,\r\n        loading,\r\n        changeLanguage,\r\n        setAudio,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC7E,OAASC,WAAW,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAErD,KAAM,CAAAC,WAAW,cAAGP,aAAa,CAAC,CAAC,CAEnC,MAAO,MAAM,CAAAQ,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACU,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,KAAM,CAAEC,KAAK,CAAEC,IAAK,CAAC,CAAG,KAAM,CAAAf,WAAW,CAACgB,GAAG,CAAC,CAAEC,GAAG,CAAE,MAAO,CAAC,CAAC,CAC9D,KAAM,CAAEH,KAAK,CAAEI,KAAM,CAAC,CAAG,KAAM,CAAAlB,WAAW,CAACgB,GAAG,CAAC,CAAEC,GAAG,CAAE,eAAgB,CAAC,CAAC,CAExE,GAAIF,IAAI,CAAE,CACRP,WAAW,CAACO,IAAI,CAAC,CACjBI,QAAQ,CAACC,eAAe,CAACL,IAAI,CAAGA,IAAI,CACpCI,QAAQ,CAACC,eAAe,CAACC,GAAG,CAAGN,IAAI,GAAK,IAAI,CAAG,KAAK,CAAG,KAAK,CAC9D,CAEA,GAAIG,KAAK,GAAK,IAAI,CAAE,CAClBR,eAAe,CAACQ,KAAK,GAAK,MAAM,CAAC,CACnC,CAEAN,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAEDC,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAS,cAAc,CAAG,KAAO,CAAAP,IAAI,EAAK,CACrC,KAAM,CAAAf,WAAW,CAACuB,GAAG,CAAC,CAAEN,GAAG,CAAE,MAAM,CAAEH,KAAK,CAAEC,IAAK,CAAC,CAAC,CACnDP,WAAW,CAACO,IAAI,CAAC,CACjBI,QAAQ,CAACC,eAAe,CAACL,IAAI,CAAGA,IAAI,CACpCI,QAAQ,CAACC,eAAe,CAACC,GAAG,CAAGN,IAAI,GAAK,IAAI,CAAG,KAAK,CAAG,KAAK,CAC9D,CAAC,CAED,KAAM,CAAAS,QAAQ,CAAG,KAAO,CAAAC,OAAO,EAAK,CAClC,KAAM,CAAAzB,WAAW,CAACuB,GAAG,CAAC,CACpBN,GAAG,CAAE,eAAe,CACpBH,KAAK,CAAEW,OAAO,CAAG,MAAM,CAAG,OAC5B,CAAC,CAAC,CACFf,eAAe,CAACe,OAAO,CAAC,CAC1B,CAAC,CAED,mBACEvB,IAAA,CAACC,WAAW,CAACuB,QAAQ,EACnBZ,KAAK,CAAE,CACLP,QAAQ,CACRE,YAAY,CACZE,OAAO,CACPW,cAAc,CACdE,QACF,CAAE,CAAAlB,QAAA,CAEDA,QAAQ,CACW,CAAC,CAE3B,CAAC,CAED,MAAO,MAAM,CAAAqB,OAAO,CAAGA,CAAA,GAAM9B,UAAU,CAACM,WAAW,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}